---
title: Email-based Authentication
layout: article
---
<div id="toc"></div>

Bridge now supports an alternative path for authentication that does not require the user to set or remember a password.

In order to use this feature, it must be enabled for your study (ask Sage administrators to enable this feature if you wish to utilize it in your app rather than the normal sign in process). 

## Sign-Up
On initial sign up for the study, the following steps must be executed:

1. The user signs up for an account, entering an email address (but no password);
1. Your app generates a password for the user, and submits it as part of the [SignUp](/#SignUp) payload;
1. The user verifies their email address, then returns to the app;
1. The app can now authenticate using the email/password combination, re-authenticating when required.

## Sign in via email workflow (Sign in with existing account)
Any time your application does not have a stored password for the user, or that password proves to be incorrect, it should execute the sign in via email workflow. One common scenario when this can happen is when a user deletes and reinstalls the app. The following steps should be executed:

1. User enters the app and clicks on a "Sign in with existing account" option rather than "Sign Up";
1. The app prompts for the user's email address, then triggers the email-based sign in workflow by sending the [EmailSignInRequest](/#EmailSignInRequest) payload. The app indicates to the user that they should check their email;
1. The user opens their email client, finds the sign in email, and clicks on the link provided;
1. The link is captured as a "deep link" by the app. The link contains a query string portion that has three parameters:
    * <code>email</code>&mdash;the user's email address;
    * <code>study</code>&mdash;the study identifier of the study;
    * <code>token</code>&mdash;a string token that must be passed back to the server to authenticate.
1. The app sends this information back to the email sign in endpoint using the [EmailSignIn](/#EmailSignIn) playload. That payload should also contain a new auto-generated password. If the token is valid and it has been submitted within a minute of being generated by the server, a [UserSessionInfo](/#UserSessionInfo) is returned and the password is reset to the new value;
1. Thereafter, the app has the credentials to re-authenticate with the server.

## Sign in via email workflow (Password incorrect)
If at any time the app fails to authenticate using the email and auto-generated password, it should trigger the sign in via email workflow. This can happen, for example, if the user installs the app on multiple devices. The following steps should then happen:

1. User signs up and signs in on a device. User can keep using the app on that device with no further user intervention;
1. User installs on another device and instead of signing up for the study, asks to use an existing account. The app follows the email sign in workflow (which changes the password). User can keep using the app on this device with no user intervention;
1. User switches to the app on the other device. *When that device must re-authenticate, it fails, and triggers the email sign in workflow;*
1. User finds and clicks on the link resetting the password on this device.

And so forth. Every time the user switches devices, they will need to re-authenticate using the email sign in workflow one time.